{"version":3,"sources":["custom.js","expenses.js","roles.js","users.js"],"names":["globalFunc","init","get_biggest","elements","biggest_height","i","length","element_height","outerHeight","resize","$","window","width","height","footerHeight","footerTop","marginTop","css","paddingBottom","each","this","bpMiddleHeight","minHeight","ClassName","touch","notify","options","type","title","message","delay","animate","template","scrollTop","top","ready","on","modal","addButton","e","preventDefault","jQuery","console","page","onAddCategory","saveButton","modalActionName","saveXhr","roleTable","requestType","val","onAddRole","resetModal","text","onEditRole","find","currentTarget","trim","id","description","ajax_url","readyState","data","dataType","abort","beforeSend","ajax","url","log","success","response","status","a","b","c","row","createdAt","created_at","split","append","msg","onDeleteRole","error","delXhr","_token","remove","complete","document","onSaveRole","userTable","onAddUser","onEditUser","attr","onSaveUser","name","password","role_id","email","role","onDeleteUser"],"mappings":"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","file":"all.min.js","sourcesContent":["var globalFunc = {\r\n\tinit: function(){\r\n\t\tglobalFunc.resize();\r\n\t},\r\n\tget_biggest: function(elements){\r\n\t\t//get all elements with class and get the biggest box\r\n\t\tvar biggest_height = 0;\r\n\t\tfor ( var i = 0; i < elements.length ; i++ ){\r\n\t\t\tvar element_height = $(elements[i]).outerHeight();\r\n\t\t\t//compare the height, if bigger, assign to variable\r\n\t\t\tif(element_height > biggest_height ) biggest_height = element_height;\r\n\t\t}\r\n\t\treturn biggest_height;\r\n\t},\r\n\tresize: function(){\r\n\t\tvar windowWidth = $(window).width();\r\n\t\tvar windowHeight = $(window).height();\r\n\r\n\t\t// STICKY FOOTER\r\n\t\tvar headerHeight = $('header').outerHeight();\r\n\t\tvar footerHeight = $('footer').outerHeight();\r\n\t\tvar footerTop = (footerHeight) * -1;\r\n\t\t$('footer').css({marginTop: footerTop});\r\n\t\t$('#main-wrapper').css({paddingBottom: footerHeight});\r\n\r\n\t\t// for vertically middle content\r\n\t\t$('.bp-middle').each(function() {\r\n\t\t\tvar bpMiddleHeight = $(this).outerHeight() / 2 * - 1;\r\n\t\t\t$(this).css({marginTop: bpMiddleHeight});\r\n\t\t});\r\n\r\n\t\t// for equalizer\r\n\t\t$('.classname').css({minHeight: 0});\r\n\t\tvar ClassName = globalFunc.get_biggest($('.classname'));\r\n\t\t$('.classname').css({minHeight: ClassName});\r\n\t},\r\n\ttouch: function(){\r\n\t\t// if (Modernizr.touch) {\r\n\t\t// \t$('html').addClass('bp-touch');\r\n\t\t// }\r\n\t}\r\n};\r\n\r\nfunction notify(options) {\r\n\t// defaults\r\n\tif (typeof options.type == \"undefined\") options.type = 'success';\r\n\tif (typeof options.title == \"undefined\") options.title = 'Success';\r\n\r\n\t$.notify({\r\n\t\t// options\r\n\t\ttitle: options.title,\r\n\t\tmessage: options.msg\r\n\t}, {\r\n\t\t// settings\r\n\t\ttype: options.type,\r\n\t\tdelay: options.delay,\r\n\t\tanimate: {\r\n\t\t\tenter: 'animated fadeInDown',\r\n\t\t\texit: 'animated fadeOutUp'\r\n\t\t},\r\n\t\ttemplate: '<div data-notify=\"container\" class=\"col-xs-11 col-sm-3 alert alert-{0}\" role=\"alert\">' +\r\n\t\t\t'<button type=\"button\" aria-hidden=\"true\" class=\"close\" data-notify=\"dismiss\">Ã—</button>' +\r\n\t\t\t'<span data-notify=\"icon\"></span> ' +\r\n\t\t\t'<span data-notify=\"title\"><strong>{1}</strong></span><br>' +\r\n\t\t\t'<span data-notify=\"message\">{2}</span>' +\r\n\t\t\t'<div class=\"progress\" data-notify=\"progressbar\">' +\r\n\t\t\t'<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\r\n\t\t\t'</div>'\r\n\t});\r\n\r\n\tif (options.scrollToTop) {\r\n\t\t$('html, body').animate({scrollTop: $('section.content').top - 100}, 1000, 'swing', function () {\r\n\t\t\t// do nothing\r\n\t\t});\r\n\t}\r\n}\r\n\r\n$(window).resize(function() {\r\n\tglobalFunc.init();\r\n});\r\n\r\n$(document).ready(function() {\r\n\tglobalFunc.touch();\r\n\tglobalFunc.init();\r\n});\r\n\r\n$(window).on('load', function() {\r\n\tglobalFunc.init();\r\n});\r\n\r\n// preloader once done\r\n// Pace.on('done', function() {\r\n// \t// totally hide the preloader especially for IE\r\n// \tsetTimeout(function() {\r\n// \t\t$('.pace-inactive').hide();\r\n// \t}, 500);\r\n// });\r\n",";(function () {\r\n    var modal, addButton;\r\n\r\n    function onAddCategory(e) {\r\n        e.preventDefault();\r\n\r\n        modal.show();\r\n\r\n    }\r\n\r\n    function init() {\r\n        console.log(page);\r\n        if (page != 'expenses' || page != 'expense_categories') return;\r\n\r\n        modal = $('#expense-category-modal');\r\n        addButton = $('#add-expense-category-btn');\r\n\r\n        /** Bind Events **/\r\n        addButton.on('click', onAddCategory);\r\n    }\r\n\r\n    $(document).ready(init);\r\n}(jQuery));",";(function ($) {\r\n    var modal = null;\r\n    var addButton, saveButton = null;\r\n    var modalActionName = null;\r\n    var saveXhr = null;\r\n    var delXhr = null;\r\n    var roleTable = null;\r\n    var requestType = null;\r\n\r\n    function resetModal() {\r\n        $('#role-id').val('');\r\n        $('#role-display-name').val('');\r\n        $('#role-description').val('');\r\n    }\r\n\r\n    function onAddRole(e) {\r\n        e.preventDefault();\r\n        resetModal();\r\n\r\n        requestType = 'POST';\r\n        modalActionName = 'Add Role';\r\n\r\n        modal.find('.action-name').text(modalActionName);\r\n        modal.modal();\r\n    }\r\n\r\n    function onEditRole(e) {\r\n        e.preventDefault();\r\n        resetModal();\r\n\r\n        modalActionName = 'Update Role';\r\n        requestType = 'PUT';\r\n\r\n        modal.find('#role-id').val($(e.currentTarget).attr('data-entry-id').trim());\r\n        modal.find('#role-display-name').val($(e.currentTarget).find('.title').text().trim());\r\n        modal.find('#role-description').val($(e.currentTarget).find('.description').text().trim());\r\n\r\n        modal.find('.action-name').text(modalActionName);\r\n        modal.modal();\r\n    }\r\n\r\n\r\n    function onSaveRole(e) {\r\n        e.preventDefault();\r\n        var data = {\r\n            id: modal.find('#role-id').val(),\r\n            title: modal.find('#role-display-name').val(),\r\n            description: modal.find('#role-description').val(),\r\n            _token: modal.find('input[name=\"_token\"]').val(),\r\n        };\r\n\r\n        if (requestType == 'PUT') ajax_url = ajax_url + '/' + data.id;\r\n\r\n        if (saveXhr && saveXhr.readyState != 4) abort();\r\n        saveXhr = $.ajax({\r\n            url: ajax_url,\r\n            type: requestType,\r\n            data: data,\r\n            dataType: 'json',\r\n            beforeSend: function () {\r\n\r\n            },\r\n            error: function (a, b, c) {\r\n                console.log(a, b, c)\r\n            },\r\n            success: function (response) {\r\n                if (response.status == 1) {\r\n\r\n                    if (requestType == 'POST') {\r\n                        var createdAt = response.data.created_at.split(' ');\r\n                        roleTable.find('tbody').append(\r\n                            '<tr class=\"edit-role edit-row\" data-entry-id=\"' + response.data.id + '\">' +\r\n                            '<td field-key=\"title\" class=\"title text-info\">' + response.data.title + '</td>' +\r\n                            '<td field-key=\"description\" class=\"description\">' + response.data.description + '</td>' +\r\n                            '<td field-key=\"created-at\">' +  createdAt[0] + '</td>'\r\n                        );\r\n\r\n                        // rebind edit event\r\n                        roleTable.find('.edit-row').on('click', onEditRole);\r\n                    } else {\r\n                        var row = roleTable.find('tbody tr[data-entry-id=\"' + response.data.id + '\"]');\r\n                        row.find('.title a').text(data.title);\r\n                        row.find('.description').text(data.description);\r\n                    }\r\n\r\n                    notify({msg: response.message});\r\n                    modal.modal('hide');\r\n                } else {\r\n                    notify({type: 'danger', msg: response.message})\r\n                }\r\n            },\r\n            complete: function () {\r\n            },\r\n        });\r\n    }\r\n\r\n    function onDeleteRole() {\r\n\r\n        var id = modal.find('#role-id').val().trim();\r\n        requestType = 'DELETE';\r\n\r\n        if (delXhr && delXhr.readyState != 4) abort();\r\n        delXhr = $.ajax({\r\n            url: ajax_url + '/' + id,\r\n            type: requestType,\r\n            data: {id: id, _token: modal.find('input[name=\"_token\"]').val()},\r\n            dataType: 'json',\r\n            beforeSend: function () {\r\n\r\n            },\r\n            error: function (a, b, c) {\r\n                console.log(a, b, c)\r\n            },\r\n            success: function (response) {\r\n                if (response.status == 1) {\r\n                    roleTable.find('tbody').find('tr[data-entry-id=\"' + id + '\"]').remove();\r\n                    notify({msg: response.message});\r\n                    modal.modal('hide');\r\n                } else {\r\n                    notify({type: 'danger', msg: response.message})\r\n                }\r\n            },\r\n            complete: function () {\r\n            },\r\n        });\r\n    }\r\n\r\n    function init() {\r\n        if (page != 'roles') return;\r\n\r\n        /** initialized variables **/\r\n        modal = $('#role-modal');\r\n        addButton = $('#add-role');\r\n        saveButton = $('#save-role');\r\n        roleTable = $('#role-table');\r\n\r\n        /** Bind events to elements **/\r\n        addButton.on('click', onAddRole);\r\n        saveButton.on('click', onSaveRole);\r\n        $('.edit-role').on('click', onEditRole);\r\n        $('#delete-role').on('click', onDeleteRole);\r\n\r\n    }\r\n\r\n    $(document).ready(init);\r\n}(jQuery));",";(function ($) {\r\n    var modal = null;\r\n    var addButton, saveButton = null;\r\n    var modalActionName = null;\r\n    var saveXhr = null;\r\n    var delXhr = null;\r\n    var userTable = null;\r\n    var requestType = null;\r\n\r\n    function resetModal() {\r\n        $('#user-id').val('');\r\n        $('#user-name').val('');\r\n        $('#user-email').val('');\r\n        $('#user-role').val('');\r\n    }\r\n\r\n    function onAddUser(e) {\r\n        e.preventDefault();\r\n        resetModal();\r\n\r\n        requestType = 'POST';\r\n        modalActionName = 'Add User';\r\n\r\n        modal.find('.action-name').text(modalActionName);\r\n        modal.modal();\r\n    }\r\n\r\n    function onEditUser(e) {\r\n        e.preventDefault();\r\n        resetModal();\r\n\r\n        modalActionName = 'Update User';\r\n        requestType = 'PUT';\r\n\r\n        modal.find('#user-id').val($(e.currentTarget).attr('data-entry-id').trim());\r\n        modal.find('#user-name').val($(e.currentTarget).find('.name').text().trim());\r\n        modal.find('#user-email').val($(e.currentTarget).find('.email').text().trim());\r\n        modal.find('#user-role').val($(e.currentTarget).find('.role').attr('data-role-id').trim());\r\n\r\n        modal.find('.action-name').text(modalActionName);\r\n        modal.modal();\r\n    }\r\n\r\n\r\n    function onSaveUser(e) {\r\n        e.preventDefault();\r\n        var url = null;\r\n        var data = {\r\n            id: modal.find('#user-id').val(),\r\n            name: modal.find('#user-name').val(),\r\n            email: modal.find('#user-email').val(),\r\n            password: 'password',\r\n            role_id: modal.find('#user-role').val(),\r\n            _token: modal.find('input[name=\"_token\"]').val(),\r\n        };\r\n\r\n        console.log(data);\r\n\r\n        if (requestType == 'PUT') url = ajax_url + '/' + data.id;\r\n        else url =  ajax_url;\r\n\r\n        console.log(requestType);\r\n\r\n        if (saveXhr && saveXhr.readyState != 4) abort();\r\n        saveXhr = $.ajax({\r\n            url: url,\r\n            type: requestType,\r\n            data: data,\r\n            dataType: 'json',\r\n            beforeSend: function () {\r\n\r\n            },\r\n            error: function (a, b, c) {\r\n                console.log(a, b, c)\r\n            },\r\n            success: function (response) {\r\n                if (response.status == 1) {\r\n\r\n                    if (requestType == 'POST') {\r\n\r\n                        var role = modal.find('#user-role option:selected').text();\r\n                        var createdAt = response.data.created_at.split(' ');\r\n\r\n                        userTable.find('tbody').append(\r\n                            '<tr data-entry-id=\"\"' + response.data.id + '\" class=\"edit-user edit-row\">' +\r\n                            '<td field-key=\"name\" class=\"name text-info\">' + response.data.name + '</td>' +\r\n                            '<td field-key=\"email\">' + response.data.email + '</td>' +\r\n                            '<td field-key=\"role\" data-role-id=\"'+ response.data.role_id +'\">' + role + '</td>' +\r\n                            '<td field-key=\"created-at\">' + createdAt[0] + '</td>'\r\n                        );\r\n\r\n                        // rebind edit event\r\n                        userTable.find('.edit-row').on('click', onEditUser);\r\n\r\n                    } else {\r\n                        var row = userTable.find('tbody tr[data-entry-id=\"' + response.data.id + '\"]');\r\n                        row.find('.name').text(data.name);\r\n                        row.find('.email').text(data.email);\r\n                        row.find('.email').text(data.role);\r\n                    }\r\n\r\n                    notify({msg: response.message});\r\n                    modal.modal('hide');\r\n                } else {\r\n                    notify({type: 'danger', msg: response.message})\r\n                }\r\n            },\r\n            complete: function () {\r\n            },\r\n        });\r\n\r\n    }\r\n\r\n    function onDeleteUser() {\r\n\r\n        var id = modal.find('#user-id').val().trim();\r\n        requestType = 'DELETE';\r\n\r\n        if (delXhr && delXhr.readyState != 4) abort();\r\n        delXhr = $.ajax({\r\n            url: ajax_url + '/' + id,\r\n            type: requestType,\r\n            data: {id: id, _token: modal.find('input[name=\"_token\"]').val()},\r\n            dataType: 'json',\r\n            beforeSend: function () {},\r\n            error: function (a, b, c) {\r\n                console.log(a, b, c)\r\n            },\r\n            success: function (response) {\r\n                if (response.status == 1) {\r\n                    userTable.find('tbody').find('tr[data-entry-id=\"'+ id + '\"]').remove();\r\n                    notify({msg: response.message});\r\n                    modal.modal('hide');\r\n                } else {\r\n                    notify({type: 'danger', msg: response.message})\r\n                }\r\n            },\r\n            complete: function () {},\r\n        });\r\n    }\r\n\r\n    function init() {\r\n        if (page != 'users') return;\r\n\r\n        /** initialized variables **/\r\n        modal = $('#users-modal');\r\n        addButton = $('#add-user');\r\n        saveButton = $('#save-user');\r\n        userTable = $('#users-table');\r\n\r\n        /** Bind events to elements **/\r\n        addButton.on('click', onAddUser);\r\n        saveButton.on('click', onSaveUser);\r\n        $('.edit-user').on('click', onEditUser);\r\n        $('#delete-user').on('click', onDeleteUser);\r\n    }\r\n\r\n    $(document).ready(init);\r\n}(jQuery));"]}